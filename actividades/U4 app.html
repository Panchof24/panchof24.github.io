<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explora Tus Emociones</title>
    <style>
        /* --- Variables de Dise√±o y Colores --- */
        :root {
            --gradient-start: #00c6ff; /* Azul vibrante */
            --gradient-end: #a200d4;   /* Morado intenso */
            --text-color: #333;
            --bg-color: #ffffff;
            --card-bg: #f9f9f9; /* Fondo suave para tarjetas */
            --border-color: #eee;
            --primary-action-color: #4CAF50; /* Verde para botones principales */
            --primary-action-hover-color: #45a049;
            --light-gradient-bg: linear-gradient(to bottom right, #f0f8ff, #e6e6fa); /* Fondo general suave */
        }

        /* --- Estilos Generales del Cuerpo --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: var(--light-gradient-bg); /* Fondo suave */
            color: var(--text-color);
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- Contenedor Principal de la App --- */
        .app-container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-width: 600px;
            width: 100%;
            border: 1px solid var(--border-color);
        }

        /* --- Encabezado de la App (Logo, T√≠tulo) --- */
        .app-header .logo img {
            width: 120px; /* Tama√±o del logo */
            height: 120px; /* Tama√±o del logo */
            margin-bottom: 15px;
            display: block; /* Para centrar con margin auto */
            margin-left: auto;
            margin-right: auto;
        }

        .app-title {
            font-size: 2.8em;
            font-weight: 900; /* M√°s grueso */
            margin-bottom: 5px;
            /* Aplicar el gradiente del logo al texto */
            background: -webkit-linear-gradient(left, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .app-subtitle {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 40px;
        }

        /* --- Estilos de los Pasos de la Interacci√≥n --- */
        .step {
            margin-top: 20px;
            display: none; /* Oculto por defecto, se muestra con JS */
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .step.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .step h2 {
            font-size: 1.8em;
            color: var(--gradient-start);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gradient-end); /* L√≠nea decorativa */
        }

        .step p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #444;
        }

        /* --- √Årea de Entrada de Texto --- */
        #emotion-input {
            width: calc(100% - 24px); /* Ajuste por padding y borde */
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            box-sizing: border-box;
            resize: vertical; /* Permite redimensionar verticalmente */
            min-height: 80px;
        }

        /* --- Selector de Intensidad --- */
        .intensity-selector {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; /* Para que se adapte a pantallas peque√±as */
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .intensity-selector label {
            margin-right: 15px;
            font-weight: bold;
            font-size: 1.1em;
            color: var(--text-color);
        }

        .intensity-selector input[type="range"] {
            width: 200px; /* Ancho del slider */
            cursor: pointer;
            accent-color: var(--gradient-start); /* Colorea el slider */
        }

        #intensity-value {
            font-size: 1.8em; /* N√∫mero de intensidad grande */
            font-weight: bold;
            color: var(--gradient-end);
            margin-left: 15px;
            min-width: 50px; /* Espacio para el n√∫mero */
            text-align: center;
            display: inline-block;
        }

        /* --- Secci√≥n de Resultados --- */
        .results {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            text-align: left; /* Alinea el texto de los resultados a la izquierda */
        }

        .results h3 {
            color: var(--gradient-start);
            margin-top: 0;
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 15px;
        }

        .suggested-emotion {
            font-size: 1.4em;
            font-weight: bold;
            color: var(--gradient-end);
            margin-bottom: 12px;
            text-align: center;
        }

        .intensity-display {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #555;
            text-align: center;
        }

        .motivational-message {
            font-size: 1.05em;
            line-height: 1.7;
            color: #444;
            padding-left: 15px;
            border-left: 4px solid var(--gradient-start); /* L√≠nea lateral para el mensaje */
            background-color: rgba(255, 255, 255, 0.7); /* Fondo semitransparente para legibilidad */
            padding: 15px;
            border-radius: 5px;
        }

        /* --- Estilos de Botones --- */
        button {
            background: linear-gradient(to right, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0, 198, 255, 0.4); /* Sombra que combina con el gradiente */
        }

        button:hover {
            filter: brightness(1.1); /* Efecto al pasar el rat√≥n */
            box-shadow: 0 6px 20px rgba(0, 198, 255, 0.6);
        }

        /* --- Clase para ocultar elementos --- */
        .hidden {
            display: none;
        }
        
        /* --- Media Query para pantallas peque√±as (m√≥viles) --- */
        @media (max-width: 480px) {
            .app-container {
                padding: 20px; /* Menos padding en m√≥viles */
            }
            .app-title {
                font-size: 2.2em; /* T√≠tulo un poco m√°s peque√±o */
            }
            .app-subtitle {
                font-size: 1.1em;
            }
            .intensity-selector {
                flex-direction: column; /* Apila los elementos del selector */
                align-items: flex-start;
            }
            .intensity-selector input[type="range"] {
                width: 100%; /* Slider ocupa todo el ancho */
                margin-top: 10px;
            }
            #intensity-value {
                margin-left: 0;
                margin-top: 10px; /* Espacio para el n√∫mero */
                width: 100%;
            }
            button {
                font-size: 1em; /* Bot√≥n m√°s peque√±o */
                padding: 12px 20px;
            }
            .logo img {
                width: 100px; /* Logo m√°s peque√±o en m√≥viles */
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <!-- Coloca tu logo aqu√≠. Aseg√∫rate de que el archivo se llame 'brain_logo.png' -->
            <!-- y est√© en la misma carpeta que este archivo HTML. -->
            <div class="logo">
                <img src="brain_logo.png" alt="Logo Hackea tu mente">
            </div>
            <h1 class="app-title">Hackea tu mente</h1>
            <p class="app-subtitle">Con√©ctate con tu mejor herramienta</p>
        </header>

        <!-- Paso 1: Bienvenida y Descripci√≥n de Emoci√≥n -->
        <div id="step1" class="step active">
            <h2>¬°Hola! üëã</h2>
            <p>Por favor, describe c√≥mo te sientes ahora mismo o una emoci√≥n que quieras explorar.</p>
            <textarea id="emotion-input" rows="4" placeholder="Ej: Me siento un poco abrumado/a por el trabajo pendiente y no s√© por d√≥nde empezar..."></textarea>
            <button onclick="handleStep1()">Continuar</button>
        </div>

        <!-- Paso 2: Selecci√≥n de Intensidad -->
        <div id="step2" class="step">
            <h2>Eval√∫a la Intensidad</h2>
            <p>Basado en tu descripci√≥n, hemos identificado una posible emoci√≥n.</p>
            <div class="results">
                <div id="suggested-emotion" class="suggested-emotion"></div>
            </div>
            <p>Ahora, en una escala del 1 al 5, ¬øqu√© tan intensa es esta emoci√≥n para ti?</p>
            <div class="intensity-selector">
                <label for="intensity-range">Intensidad:</label>
                <input type="range" id="intensity-range" min="1" max="5" value="3"> <!-- Valor por defecto -->
                <span id="intensity-value">3</span> / 5 <!-- Muestra el valor seleccionado -->
            </div>
            <button onclick="handleStep2()">Ver resultado</button>
        </div>

        <!-- Paso 3: Resultados y Mensaje Motivador -->
        <div id="step3" class="step">
            <h2>Tu Emoci√≥n Explorada</h2>
            <div class="results">
                <div id="final-emotion-display" class="suggested-emotion"></div>
                <div id="final-intensity-display" class="intensity-display"></div>
                <div id="motivational-message" class="motivational-message"></div>
            </div>
            <button onclick="resetApp()">Explorar otra emoci√≥n</button>
        </div>
    </div>

    <script>
        /* --- Datos de las Emociones y Mensajes --- */
        const emotionsData = {
            alegria: {
                keywords: ["feliz", "contento", "alegre", "entusiasmado", "optimista", "divertido", "radiante", "gozo", "placer", "animado", "euf√≥rico"],
                messages: [
                    "¬°Fant√°stico! Tu alegr√≠a es un motor. Sigue cultivando esas sensaciones, son la chispa de la vida.", // 1
                    "Tu alegr√≠a es notable. Perm√≠tete disfrutarla y compartirla, irradia luz a tu alrededor.", // 2
                    "Sientes una alegr√≠a moderada. Reconoce los momentos que la provocan y busca repetirlos conscientemente.", // 3
                    "Est√°s experimentando una gran alegr√≠a. Abraza esta felicidad y d√©jala llenar tu d√≠a con energ√≠a positiva.", // 4
                    "¬°Wow! Una alegr√≠a inmensa. Vive este momento plenamente, es un regalo precioso. ¬°Cel√©bralo!" // 5
                ]
            },
            confianza: {
                keywords: ["confiado", "seguro", "tranquilo", "esperanzado", "optimista", "cree en ti", "estable", "calma", "firme"],
                messages: [
                    "Te sientes un poco esperanzado/a. Mant√©n esa perspectiva, la confianza se construye d√≠a a d√≠a con peque√±as victorias.", // 1
                    "Tu confianza es evidente. Sigue apoy√°ndote en tus fortalezas, son tu mejor activo y te guiar√°n.", // 2
                    "Sientes una confianza moderada. Es un buen momento para planificar y confiar en tus habilidades, eres capaz.", // 3
                    "Tienes una fuerte sensaci√≥n de seguridad. ¬°Adelante! Tienes la capacidad para lograr lo que te propones con determinaci√≥n.", // 4
                    "¬°Sientes una confianza total! Conf√≠a plenamente en ti y en tu camino, tu potencial es ilimitado." // 5
                ]
            },
            miedo: {
                keywords: ["miedo", "ansioso", "preocupado", "temeroso", "nervioso", "asustado", "incertidumbre", "agobio", "angustia", "p√°nico", "inquieto"],
                messages: [
                    "Es normal sentir un poco de aprensi√≥n. Recuerda que la anticipaci√≥n es a menudo peor que la realidad. Un peque√±o paso puede aliviar la preocupaci√≥n.", // 1
                    "Sientes cierta ansiedad. Respira hondo. Enf√≥cate en lo que s√≠ puedes controlar y divide las tareas grandes en peque√±as acciones.", // 2
                    "La preocupaci√≥n es moderada. Perm√≠tete sentirla, pero no dejes que te domine. Busca apoyo o distr√°ete un momento con algo que te guste.", // 3
                    "Sientes un miedo o ansiedad fuerte. Reconoce la fuente de tu temor. Afronta un peque√±o aspecto de ello hoy; cada paso cuenta.", // 4
                    "Est√°s abrumado/a por el miedo. Busca un espacio seguro, respira profundamente y contacta a alguien de confianza. No est√°s solo/a, y eres m√°s fuerte de lo que crees." // 5
                ]
            },
            sorpresa: {
                keywords: ["sorprendido", "asombrado", "inesperado", "incredulo", "boca abierta", "estupefacto", "novedad"],
                messages: [
                    "Algo inesperado ha ocurrido. T√≥mate un momento para procesarlo. La sorpresa puede abrir nuevas puertas y perspectivas.", // 1
                    "Te sientes un poco sorprendido/a. Observa qu√© ha cambiado y c√≥mo puedes adaptarte de forma flexible.", // 2
                    "La sorpresa es moderada. Reflexiona sobre lo que te ha impactado y qu√© nuevas oportunidades trae consigo.", // 3
                    "Est√°s muy sorprendido/a. Permite que esta novedad te impulse a explorar nuevas ideas y caminos.", // 4
                    "¬°Qu√© gran sorpresa! Abre tu mente a las posibilidades que esto trae. ¬°Es una oportunidad para lo nuevo y lo emocionante!" // 5
                ]
            },
            tristeza: {
                keywords: ["triste", "melanc√≥lico", "desanimado", "deprimido", "p√©rdida", "dolor", "pena", "abatido", "desolado"],
                messages: [
                    "Sientes una leve tristeza. Perm√≠tete sentirla sin juzgarte. Un peque√±o gesto de autocuidado puede marcar la diferencia.", // 1
                    "Tu des√°nimo es notorio. Recuerda que los momentos bajos son temporales. Con√©ctate con algo que te d√© consuelo o paz interior.", // 2
                    "La melancol√≠a es moderada. Busca actividades que te aporten calma o un poco de alegr√≠a, aunque sea m√≠nima, para nutrir tu esp√≠ritu.", // 3
                    "Sientes una tristeza fuerte. Hablar con alguien de confianza o permitirte llorar puede ser liberador. Busca consuelo.", // 4
                    "Est√°s profundamente triste. S√© muy amable contigo mismo/a. Busca apoyo en tu red o considera ayuda profesional si persiste." // 5
                ]
            },
            asco: {
                keywords: ["asco", "repugnancia", "desagrado", "repulsi√≥n", "no me gusta", "incomodidad", "repulsivo"],
                messages: [
                    "Sientes un ligero desagrado. Identifica qu√© es lo que te causa esta sensaci√≥n y considera si puedes alejarte o cambiar la situaci√≥n.", // 1
                    "Experimentas disgusto. Es una se√±al de que algo no est√° bien para ti. Reflexiona sobre qu√© puedes modificar o evitar.", // 2
                    "El desagrado es moderado. Busca alejarte de la fuente de este sentimiento o procesarlo de forma constructiva, protegiendo tu espacio.", // 3
                    "Sientes una fuerte repulsi√≥n. Protege tu bienestar alej√°ndote de lo que te causa malestar de manera activa.", // 4
                    "¬°Qu√© desagradable! Tu reacci√≥n es una defensa importante. Conf√≠a en tu instinto de protecci√≥n y cuida tu entorno." // 5
                ]
            },
            enojo: {
                keywords: ["enojo", "ira", "frustraci√≥n", "molesto", "enfadado", "rabia", "indignado", "irritado"],
                messages: [
                    "Te sientes un poco irritado/a. Intenta respirar y identificar la causa de tu molestia. A veces, hablarlo con calma ayuda a resolverlo.", // 1
                    "Est√°s molesto/a. Encuentra una forma segura de liberar esa energ√≠a, como hacer ejercicio, escribir o escuchar m√∫sica.", // 2
                    "Sientes un enojo moderado. Canaliza esta energ√≠a hacia la b√∫squeda de soluciones o la expresi√≥n asertiva de tus necesidades y l√≠mites.", // 3
                    "Tu ira es fuerte. Respira profundamente. Busca comprender la ra√≠z del enojo y expresa tus l√≠mites de forma clara y calmada para un cambio positivo.", // 4
                    "¬°Est√°s muy enfadado/a! Es importante darte espacio para calmarte. Busca una salida constructiva y no act√∫es impulsivamente para evitar consecuencias negativas." // 5
                ]
            },
            anticipacion: {
                keywords: ["anticipaci√≥n", "inter√©s", "expectativa", "curiosidad", "esperando", "entusiasmo", "expectante"],
                messages: [
                    "Tienes una leve expectativa. ¬°Genial! Mant√©n viva esa curiosidad, es el motor del descubrimiento y el aprendizaje.", // 1
                    "Sientes inter√©s. Canaliza esa anticipaci√≥n en prepararte o aprender m√°s sobre lo que viene, aprovechando la energ√≠a.", // 2
                    "La expectaci√≥n es moderada. Visualiza el resultado positivo y enf√≥cate en los pasos concretos para llegar all√≠.", // 3
                    "Sientes una fuerte anticipaci√≥n. ¬°Est√°s listo/a para lo que viene! Conf√≠a en tu preparaci√≥n y disfruta el proceso de avance.", // 4
                    "¬°Est√°s muy expectante! Abraza esta energ√≠a vibrante y √∫sala para dar lo mejor de ti. ¬°El futuro es prometedor!" // 5
                ]
            }
        };

        /* --- Variables de Estado de la Aplicaci√≥n --- */
        let currentStep = 1;
        let userDescription = "";
        let identifiedEmotion = "";
        let intensity = 3; // Intensidad por defecto

        /* --- Referencias a Elementos del DOM --- */
        const steps = document.querySelectorAll('.step');
        const emotionInput = document.getElementById('emotion-input');
        const intensityRange = document.getElementById('intensity-range');
        const intensityValueSpan = document.getElementById('intensity-value');
        const suggestedEmotionDiv = document.getElementById('suggested-emotion');
        const finalEmotionDisplayDiv = document.getElementById('final-emotion-display');
        const finalIntensityDisplayDiv = document.getElementById('final-intensity-display');
        const motivationalMessageDiv = document.getElementById('motivational-message');

        /* --- Event Listener para el Slider de Intensidad --- */
        intensityRange.addEventListener('input', (e) => {
            intensity = parseInt(e.target.value); // Actualiza la variable de estado
            intensityValueSpan.textContent = intensity; // Actualiza el texto que muestra el n√∫mero
        });

        /* --- Funciones de Control de Pasos --- */
        function showStep(stepNumber) {
            // Oculta todos los pasos y muestra el actual
            steps.forEach((step, index) => {
                if (index === stepNumber - 1) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        /* --- Maneja la transici√≥n del Paso 1 al Paso 2 --- */
        function handleStep1() {
            userDescription = emotionInput.value.trim().toLowerCase(); // Obtiene la descripci√≥n del usuario

            if (!userDescription) {
                alert("Por favor, describe c√≥mo te sientes para continuar.");
                return; // Detiene la funci√≥n si no hay descripci√≥n
            }

            identifiedEmotion = detectEmotion(userDescription); // Intenta detectar la emoci√≥n
            if (!identifiedEmotion) {
                identifiedEmotion = "desconocida"; // Si no se detecta, usa 'desconocida'
            }

            // Actualiza la UI para mostrar la emoci√≥n sugerida en el Paso 2
            suggestedEmotionDiv.textContent = `Emoci√≥n principal: ${capitalizeFirstLetter(identifiedEmotion)}`;
            
            // Aseg√∫rate de que el valor del slider y la variable de estado coincidan al pasar al paso 2
            intensity = parseInt(intensityRange.value); 
            intensityValueSpan.textContent = intensity; 

            showStep(2); // Muestra el siguiente paso
            currentStep = 2;
        }

        /* --- Maneja la transici√≥n del Paso 2 al Paso 3 --- */
        function handleStep2() {
            intensity = parseInt(intensityRange.value); // Obtiene la intensidad final seleccionada

            let message = "No se encontr√≥ un mensaje espec√≠fico para esta combinaci√≥n. ¬°Mant√©n la calma y respira hondo!";
            
            if (identifiedEmotion === "desconocida") {
                // Mensaje gen√©rico si la emoci√≥n no pudo ser identificada
                message = "A veces, el primer paso para entender lo que sientes es simplemente nombrarlo. Reflexiona sobre estas sensaciones.";
            } else if (emotionsData[identifiedEmotion] && emotionsData[identifiedEmotion].messages) {
                // Busca el mensaje correspondiente a la emoci√≥n y la intensidad
                // El √≠ndice del array es intensidad - 1 (ya que la intensidad va de 1 a 5)
                const messageIndex = Math.max(0, Math.min(intensity - 1, emotionsData[identifiedEmotion].messages.length - 1));
                message = emotionsData[identifiedEmotion].messages[messageIndex];
            }
            
            // Muestra los resultados finales en el Paso 3
            finalEmotionDisplayDiv.textContent = `${capitalizeFirstLetter(identifiedEmotion)}`;
            finalIntensityDisplayDiv.textContent = `Intensidad: ${intensity} / 5`;
            motivationalMessageDiv.innerHTML = `<strong>Tu mensaje:</strong> ${message}`; // Usa innerHTML para permitir negritas

            showStep(3); // Muestra la pantalla de resultados
            currentStep = 3;
        }

        /* --- Detecta la emoci√≥n bas√°ndose en palabras clave --- */
        function detectEmotion(description) {
            for (const emotion in emotionsData) { // Itera sobre cada emoci√≥n definida
                for (const keyword of emotionsData[emotion].keywords) { // Itera sobre las palabras clave de esa emoci√≥n
                    if (description.includes(keyword)) { // Si la descripci√≥n contiene la palabra clave
                        return emotion; // Devuelve el nombre de la emoci√≥n
                    }
                }
            }
            return null; // Devuelve null si ninguna palabra clave coincide
        }

        /* --- Capitaliza la primera letra de una cadena --- */
        function capitalizeFirstLetter(string) {
            if (!string) return ""; // Si la cadena est√° vac√≠a, devuelve vac√≠o
            if (string === "desconocida") return "Desconocida"; // Caso especial para 'desconocida'
            return string.charAt(0).toUpperCase() + string.slice(1); // Pone la primera letra en may√∫scula
        }

        /* --- Reinicia la aplicaci√≥n para explorar otra emoci√≥n --- */
        function resetApp() {
            // Limpia todos los campos y valores
            emotionInput.value = "";
            intensity = 3; // Restablece la intensidad por defecto
            intensityRange.value = 3;
            intensityValueSpan.textContent = 3;
            suggestedEmotionDiv.textContent = "";
            finalEmotionDisplayDiv.textContent = "";
            finalIntensityDisplayDiv.textContent = "";
            motivationalMessageDiv.textContent = "";
            
            // Vuelve al primer paso
            showStep(1);
            currentStep = 1;
        }

        /* --- Inicializa la aplicaci√≥n mostrando el primer paso al cargar la p√°gina --- */
        showStep(currentStep);
    </script>
</body>
</html>